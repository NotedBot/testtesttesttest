<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NotedBot │ 7TV <span id="paint-name"></span> Paint</title>
    <link rel="icon" href="img/notedbotlogo.png" type="image/png">
    <link rel="stylesheet" href="./ressourcen/styles.css">
    <script src="https://cdn.rawgit.com/jnordberg/gif.js/master/dist/gif.min.js"></script>
</head>
<body>
    <div class="container">
        <div class="logo">
            <a href="home.html"><img src="img/notedbot.gif" alt="NotedBot Logo"></a>
        </div>
        <div class="navigation">
            <h1 id="title"><img src="img/notedbotlogo.png" alt="NotedBot Logo"> <span>NotedBot 7TV Paint </span> <span id="paint-name"></span></h1>
            <ul>
                <li><a onclick="alert('Du bist doch schon auf der Seite?')">Home</a></li>
                <li><a href="commands.html">Commands</a></li>
            </ul>
        </div>
        <div class="samples">
            <div id="sample1" class="paint-text">Wydios</div>
            <div id="sample2" class="paint-text">██████</div>
        </div>
    </div>
    
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const paintData = {
            id: urlParams.get('id') || "01GZBZ2T0R0005K1FJYZ11J7EZ",
            name: urlParams.get('name') || "Tropical",
            function: "LINEAR_GRADIENT",
            angle: 90,
            stops: [
                { at: 0, color: -145138177 },
                { at: 0.5, color: -20489985 },
                { at: 1, color: -1124794113 }
            ]
        };

        document.getElementById("paint-name").textContent = paintData.name;

        const convertToHex = (color) => {
            const normalizedColor = color >>> 0;
            return `#${normalizedColor.toString(16).padStart(8, '0').slice(2)}`;
        };

        const createGradient = () => {
            const stops = paintData.stops.map(stop => `${convertToHex(stop.color)} ${stop.at * 100}%`).join(', ');
            return `linear-gradient(${paintData.angle}deg, ${stops})`;
        };

        document.getElementById("sample1").style.backgroundImage = createGradient();
        document.getElementById("sample2").style.backgroundImage = createGradient();
    </script>
</body>
</html>
